// Database Migration Configuration
// 
// This file defines which SQL migration scripts should be applied to which databases.
// Format:
//   "Migrations"
//   {
//       "database_name_from_databases.cfg"
//       {
//           "key1"  "relative/path/to/migration1.sql"
//           "key2"  "relative/path/to/migration2.sql"
//           ...
//       }
//   }
//
// Notes:
// - Database names must match entries in addons/sourcemod/configs/databases.cfg
// - File paths are relative to addons/sourcemod/ directory
// - Keys can be any string (numbers like "1", "2" or descriptive names like "initial_schema")
// - KeyValues format does not guarantee ordering, so use numbered keys if order matters
// - Migrations are executed in the order they appear in the file (top to bottom)
// - Each migration file is wrapped in a transaction (BEGIN...COMMIT)
// - If a migration fails, it's rolled back and other migrations still execute
// - Empty migration files are treated as successful no-ops
// - Only PostgreSQL is supported

"Migrations"
{
    // LoadoutSaver database migrations
    "loadoutsaver"
    {
        "1"  "configs/sql-init-scripts/pgsql/loadout_saver.sql"
    }
    
    // Example: Multiple migrations for a database (using numbered keys for ordering)
    // "mydb"
    // {
    //     "1"  "configs/sql-init-scripts/pgsql/mydb_schema.sql"
    //     "2"  "configs/sql-init-scripts/pgsql/mydb_add_indexes.sql"
    //     "3"  "configs/sql-init-scripts/pgsql/mydb_seed_data.sql"
    // }
    
    // Example: Using descriptive keys (order depends on file order, not key names)
    // "otherdb"
    // {
    //     "initial_schema"  "configs/sql-init-scripts/pgsql/other_schema.sql"
    //     "add_indexes"     "configs/sql-init-scripts/pgsql/other_indexes.sql"
    //     "seed_data"       "configs/sql-init-scripts/pgsql/other_seed.sql"
    // }
}
